{"componentChunkName":"component---src-templates-page-tsx","path":"/nl-studio/designing-nlu/","result":{"data":{"site":{"siteMetadata":{"title":"HPCCSystems Solutions Lab","sidebarTitle":"HPCCSystems Solutions Lab","sidebarSubtext":"Documentation","siteLastUpdated":"2020-06-05T21:56:30.418Z","description":"HPCC Systems is a mature platform that has been heavily used in commercial applications for almost two decades, predating the development of Hadoop. Created by LexisNexis Risk Solutions, an innovative pioneer in big data processing, and open source for nearly a decade now, HPCC Systems features a vibrant development community that continues to push the boundaries of big data.","version":"3.5.5","siteUrl":"https://docs.kata.ai","keywords":"hpcc, hpccsystems, ecl","author":{"name":"HPCCSystems.com","url":"https://hpccsystems.com","email":"info@hpccsystems.com"},"socials":[{"name":"Twitter","imgpath":"icon-twitter.svg","url":"https://twitter.com/KataDotAI"},{"name":"GitHub","imgpath":"icon-github.svg","url":"https://github.com/kata-ai"},{"name":"LinkedIn","imgpath":"icon-linkedin.svg","url":"https://www.linkedin.com/company/yesboss/"},{"name":"Medium","imgpath":"icon-medium.svg","url":"https://medium.com/kata-engineering"}]}},"sectionList":{"edges":[{"node":{"title":"Advanced Concepts","items":[{"id":"FUNCTION","slug":"/hpcc/LearnECL/AdvanceConcepts/function","title":"FUNCTION"},{"id":"JOIN","slug":"/hpcc/LearnECL/AdvanceConcepts/join","title":"JOIN"},{"id":"MODULE","slug":"/hpcc/LearnECL/AdvanceConcepts/module","title":"MODULE"},{"id":"PROJECT","slug":"/hpcc/LearnECL/AdvanceConcepts/project","title":"PROJECT"},{"id":"TABLE","slug":"/hpcc/LearnECL/AdvanceConcepts/table","title":"TABLE"},{"id":"TRANSFORM","slug":"/hpcc/LearnECL/AdvanceConcepts/transform","title":"TRANSFORM"}]}},{"node":{"title":"Main Concepts","items":[{"id":"dataset","slug":"/hpcc/LearnECL/MainConcepts/dataset","title":"DATASET"},{"id":"filter","slug":"/hpcc/LearnECL/MainConcepts/filter","title":"FILTER"},{"id":"introducingECL","slug":"/hpcc/LearnECL/MainConcepts/introducingECL","title":"INTRODUCING ECL"},{"id":"mathematics","slug":"/hpcc/LearnECL/MainConcepts/mathematics","title":"MATHEMATICS"},{"id":"namingConvension","slug":"/hpcc/LearnECL/MainConcepts/namingConvension","title":"NAMING CONVENTION"},{"id":"output","slug":"/hpcc/LearnECL/MainConcepts/output","title":"OUTPUT"},{"id":"recordstructure","slug":"/hpcc/LearnECL/MainConcepts/recordStructure","title":"RECORD Structure"},{"id":"sort","slug":"/hpcc/LearnECL/MainConcepts/sort","title":"SORT"}]}}]},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before creating a NLU, you need to know what things you want to discover to ease the process of designing NLU. Eventhough there is no restriction on how you can create your NLU, please note that more complex the NLU is, more training data is required to make the NLU better."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some things that need to be considered in designing an NLU are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Number of labels in one entity."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"NLU complexity that affects the complexity of the training process."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Number of entities in one NLU."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In NL Studio, one entity has its own model so that the more entities it has, the longer the training process will be."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here are some suggestions for implementing NLU in NL Studio that can reduce complexity and simplify the training process."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Dividing Entity Trait"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If an entity has very many labels (for example: 50), it also requires 50 data. In addition, if the sentence form between labels is similar, it needs more data to make the NL have accurate predictions and a high score. To make it easier, you can break a label from one entity into several entities."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Example case, an entity intent with the following form:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"name: nl-v1\nlang: id\nentities\n    intent:\n        type: trait\n        profile: intent\n        labels:\n            - lupa_pin\n            - ganti_pin\n            - kartu_hilang\n            - buku_tabungan_hilang\n            - ganti_kartu\n            - ganti_buku_tabungan\n            - buat_kartu\n            - cara_daftar_nasabah\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"can be converted into 2 different entities as follows:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"name: nl-1\nlang: id\nentities:\n  intent:\n    type: trait\n    profile: intent\n    labels:\n      - lupa\n      - ganti\n      - buat\n      - hilang\n  topic:\n    type: trait\n    profile: topic\n    labels:\n      - pin\n      - kartu\n      - buku_tabungan\n      - nasabah\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using above method could also increase score value. It can be like as follow, "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"nl-1"}]},{"type":"text","value":" will divide value 1 into 8 different groups for entity intent. While "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"nl-2"}]},{"type":"text","value":" will divide value 1 into 4 different groups for entity intent and value 1 into 4 different groups for entity topic."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"However, if there are enough training data or no problems are found, above method is not mandatory to be implemented. Furthermore, above method is useful if training data is limited."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Utilizing Profile Intent"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(Only affect if using trait type entities with profile intent)"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In addition to dividing an entity trait into several other entities, it may also be done by utilizing one of profile intent characteristics that is influenced by other model predictions results (which are phrase or dict type). The following ways can speed up training process if training data amount is limited and the sentence form between labels is similar."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Example 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Given training data:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"dimana tempat perpanjang sim paling dekat? ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"#ask_nearby_simstnk"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"dimana tempat perpanjang stnk sekitar sini? ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"#ask_nearby_simstnk"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"dimana kantor polisi terdekat? ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"#ask_nearby_police"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"name: nl-v1\nlang: id\nentities\n   intent:\n        type: trait\n        profile: intent\n        labels:\n            - ask_nearby_simstnk\n            - ask_nearby_police\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Above NL can be changed into:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"name: nl-v1\nlang: id\nentities\n   simstnk:\n        type: dict\n        profile: default\n        dictionary:\n            sim:\n                - sim\n                - surat izin mengemudi\n            stnk:\n                - stnk\n                - surat tanda nomor kendaraan\n   intent:\n        type: trait\n        profile: intent\n        labels:\n            - ask_nearby_simstnk\n            - ask_nearby_police\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Words 'sim' and 'stnk' falls into one group with similar category."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"However, this profile intent characteristics shall be watched out because it can eliminate detailed information."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Example 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Given training data:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"resep untuk membuat pizza bbq apa ya? ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"#ask_bbq_recipe"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"pizza pepperoni gimana cara buatnya ya? ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"#ask_pepperoni_recipe"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"kasih tau dong resep pizza aas buatanmu ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"#ask_aas_recipe"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"name: nl-v1\nlang: id\nentities\n   intent:\n        type: trait\n        profile: intent\n        labels:\n            - ask_bbq_recipe\n            - ask_pepperoni_recipe\n            - ask_aas_recipe\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"name: nl-v2\nlang: id\nentities\n   pizza:\n        type: dict\n        profile: default\n        dictionary:\n            bbq:\n                - bbq\n                - barberque\n            pepperoni:\n                - pepperoni\n                - peperoni\n            aas:\n                - aas\n                - american all star\n   intent:\n        type: trait\n        profile: intent\n        labels:\n            - ask_bbq_recipe\n            - ask_pepperoni_recipe\n            - ask_aas_recipe\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"'Intent' entity for nl-v1 can distinguish the 3 labels, but nl-v2 cannot differentiate that because the words 'bbq', 'pepperoni', and 'aas' are considered in similar group, namely pizza. If you are given input \"resep buat bbq apa ya?\" Then the probability for three labels are same (based on the training data above)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you still wish to use dictionary to ease the training and classification process, it can be done in the following way."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"name: nl-v3\nlang: id\nentities\n   pizza:\n        type: dict\n        profile: default\n        dictionary:\n            bbq:\n                - bbq\n                - barberque\n            pepperoni:\n                - pepperoni\n                - peperoni\n            aas:\n                - aas\n                - american all star\n   intent:\n        type: trait\n        profile: intent\n        labels:\n            - ask_pizza_recipe\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using nl-v3, user able to find out whether a sentence has an "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ask_pizza_recipe"}]},{"type":"text","value":" intent. To find out specific type of pizza, use pizza entity."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Do above action to simplify introduction of words, which is limited product names, in created BOT domain. It is not recommended to use this method for general words."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Dividing NL"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A Bot can have more than one NLU. Here are some cases where NLU can be separated."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"NL Specific for Certain Flow"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some flow in a bot can have a special NL for a flow where an input for the flow is different from other flow-glow. This can reduce labels number owned by an entity and facilitate prediction process. Example:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Credential"}]},{"type":"text","value":" NL is only executed when user first befriends with your bot."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Order"}]},{"type":"text","value":" NL on E-Commerce Bot which will be run only when user selects 'order' menu"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"NL Specific for Certain State"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some states in a bot may get similar input, however it have different meanings depending on what state is running. It can be given a condition to run this NL in certain states only in BOT studio Example:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"YesNo"}]},{"type":"text","value":" NL which can be used in various flows, but it is specific to states that require user confirmation."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Notes"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some of methods above can be an alternative for condition such as: an entity contains many labels, data between labels are similar, the amount of training data is limited, prediction results are still not optimal, or other different problems. If there is no problem found, you can create only one entity that has many labels."}]}],"data":{"quirksMode":false}},"tableOfContents":"<ul>\n<li><a href=\"/hpcc-solutions-lab/nl-studio/designing-nlu/#dividing-entity-trait\">Dividing Entity Trait</a></li>\n<li>\n<p><a href=\"/hpcc-solutions-lab/nl-studio/designing-nlu/#utilizing-profile-intent\">Utilizing Profile Intent</a></p>\n<ul>\n<li><a href=\"/hpcc-solutions-lab/nl-studio/designing-nlu/#example-1\">Example 1</a></li>\n<li><a href=\"/hpcc-solutions-lab/nl-studio/designing-nlu/#example-2\">Example 2</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/hpcc-solutions-lab/nl-studio/designing-nlu/#dividing-nl\">Dividing NL</a></p>\n<ul>\n<li><a href=\"/hpcc-solutions-lab/nl-studio/designing-nlu/#nl-specific-for-certain-flow\">NL Specific for Certain Flow</a></li>\n<li><a href=\"/hpcc-solutions-lab/nl-studio/designing-nlu/#nl-specific-for-certain-state\">NL Specific for Certain State</a></li>\n</ul>\n</li>\n</ul>","excerpt":"Before creating a NLU, you need to know what things you want to discover to ease the process of designing NLU. Eventhough there is no…","frontmatter":{"id":"nl-studio-designing-nlu","title":"Designing NLU","description":null,"prev":"nl-studio-entity","next":"nl-studio-training-guideline"},"fields":{"slug":"/nl-studio/designing-nlu/"}},"allFile":{"edges":[{"node":{"gitRemote":{"webLink":"https://alfjjacob:58e9fd5edbad4eccf8bb133c55491be00091f1c7@github.com/hpccsystems-solutions-lab/Learn-ECL","ref":"master","pathname":"/hpccsystems-solutions-lab/Learn-ECL.git","organization":"hpccsystems-solutions-lab","name":"Learn-ECL"}}},{"node":{"gitRemote":{"webLink":"https://alfjjacob:58e9fd5edbad4eccf8bb133c55491be00091f1c7@github.com/hpccsystems-solutions-lab/ECL-Pattern-Job-Scheduling","ref":"master","pathname":"/hpccsystems-solutions-lab/ECL-Pattern-Job-Scheduling.git","organization":"hpccsystems-solutions-lab","name":"ECL-Pattern-Job-Scheduling"}}},{"node":{"gitRemote":{"webLink":"https://alfjjacob:58e9fd5edbad4eccf8bb133c55491be00091f1c7@github.com/hpccsystems-solutions-lab/CodeDay_May2020","ref":"master","pathname":"/hpccsystems-solutions-lab/CodeDay_May2020.git","organization":"hpccsystems-solutions-lab","name":"CodeDay_May2020"}}},{"node":{"gitRemote":{"webLink":"https://alfjjacob:58e9fd5edbad4eccf8bb133c55491be00091f1c7@github.com/hpccsystems-solutions-lab/ECL-Sample-Cheatsheet","ref":"master","pathname":"/hpccsystems-solutions-lab/ECL-Sample-Cheatsheet.git","organization":"hpccsystems-solutions-lab","name":"ECL-Sample-Cheatsheet"}}}]}},"pageContext":{"slug":"/nl-studio/designing-nlu/"}}}